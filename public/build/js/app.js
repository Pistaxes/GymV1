function iniciarApp(){consultarApi()}async function consultarApi(){try{const t="http://localhost:3000/api/productos",e=await fetch(t),o=await e.json();console.log(o),mostrarServicios(o)}catch(t){console.log(t)}}function mostrarServicios(t){t.forEach(t=>{const{id:e,nombre:o,precio:n,imagen:c,categoriaId:a}=t,i=document.createElement("h3");i.classList.add("nombre-producto"),i.textContent=o;const r=document.createElement("p");r.classList.add("nombre-producto"),r.textContent=n;const s=c,d=document.createElement("img");d.src=`../build/img/${s}.jpg`;const l=document.createElement("DIV");l.classList.add("producto"),l.dataset.idProducto=e;const p=document.createElement("DIV");p.classList.add("botones");const m=document.createElement("BUTTON");m.classList.add("boton-carrito"),m.textContent="Agregar al carrito",m.id=e,m.addEventListener("click",()=>{const t={id:e,nombre:o,precio:n,imagen:c},a=localStorage.getItem("carrito");if(null===a){const e=[];e.push(t),localStorage.setItem("carrito",JSON.stringify(e))}else{const e=JSON.parse(a);e.push(t),localStorage.setItem("carrito",JSON.stringify(e))}}),l.appendChild(i),l.appendChild(d),l.appendChild(r),l.appendChild(p),l.appendChild(m),document.querySelector("#productos").appendChild(l)})}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));