function iniciarApp(){consultarApi()}async function consultarApi(){try{const t="/api/productos",e=await fetch(t),o=await e.json();console.log(o),mostrarServicios(o)}catch(t){console.log(t)}}function mostrarServicios(t){t.forEach(t=>{const{id:e,nombre:o,precio:n,imagen:c,categoriaId:a}=t,i=document.createElement("h3");i.classList.add("nombre-producto"),i.textContent=o;const d=document.createElement("p");d.classList.add("nombre-producto"),d.textContent=n;const s=c,r=document.createElement("img");r.src=`../build/img/${s}.jpg`;const p=document.createElement("DIV");p.classList.add("producto"),p.dataset.idProducto=e;const l=document.createElement("DIV");l.classList.add("botones");const m=document.createElement("BUTTON");m.classList.add("boton-carrito"),m.textContent="Agregar al carrito",m.id=e,m.addEventListener("click",async()=>{const t={id:e,nombre:o,precio:n,imagen:c},a=await fetch("/api/carrito",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(a.ok){const t=await a.json();console.log(t)}}),p.appendChild(i),p.appendChild(r),p.appendChild(d),p.appendChild(l),p.appendChild(m),document.querySelector("#productos").appendChild(p)})}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()}));